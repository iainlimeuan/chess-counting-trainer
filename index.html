<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chess Counting Trainer</title>
  <link rel="stylesheet"
        href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"
        integrity="sha384-q94+BZtLrkL1/ohfjR8c6L+A6qzNH9R2hBLwyoAfu3i/WCvQjzL2RQJ3uNHDISdU"
        crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
          integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
          crossorigin="anonymous"></script>
  <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"
          integrity="sha384-8Vi8VHwn3vjQ9eUHUxex3JSN/NFqUg3QbPyX8kWyb93+8AC/pPWTzj+nHtbC5bxD"
          crossorigin="anonymous"></script>  
  <script src="https://unpkg.com/chess.js@1.4.0/dist/cjs/chess.js"></script>

</head>

<body>
  <div id="myBoard" style="width: 400px"></div>
  <script>
    var board = null
    var config = {
      pieceTheme: 'img/wikipedia/{piece}.png',
      position: 'start'
    }
    var game = new Chess()

    function makeRandomMove () {
      var possibleMoves = game.moves()

      // exit if the game is over
      if (game.isGameOver()) return

      var randomIdx = Math.floor(Math.random() * possibleMoves.length)
      game.move(possibleMoves[randomIdx])
      board.position(game.fen())

      window.setTimeout(makeRandomMove, 500)
    }

    board = Chessboard('myBoard', config)

    window.setTimeout(makeRandomMove, 500)
  </script>

</body>
</html>

